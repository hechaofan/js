<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>深拷贝</title>
</head>
<body>

</body>
<script>
  //todo 深拷贝方法一
  function deepClone(obj) {
    if(!obj && obj.constructor !==Object){
        return;
    }
    var newObj = obj.constructor === Array ? [] : {}
    //var newObj = Array.isArray(obj) ? [] : {}
    for (var key in obj) {
      if(obj[key] && obj[key].constructor ===Object){
        newObj[key] = obj[key].constructor === Array ? [] : {}
        newObj[key] =deepClone(obj[key])
      } else {
        newObj[key] = obj[key]
      }
    }
    return newObj
  }
  var obj=[[{a:1}],{c:1,d:2}]
  //todo 递归两层就只可以深拷贝两层
  var obj1=deepClone(obj)
  //todo 深拷贝方法二JSON.parse(JSON.stringify())
  var obj2=JSON.parse(JSON.stringify(obj))
  obj2[0][0].a=3
  console.log(obj2);
  console.log(obj);
</script>
</html>