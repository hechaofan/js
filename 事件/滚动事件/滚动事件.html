<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>监控元素出现在视图中</title>
  <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
  <style>
    p {
      height: 30px;
      line-height: 30px;
      background: #f3f3f3;
      opacity: 0;
    }
  </style>
</head>

<body>
<div class="main">
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
  <p>你好，china！</p>
</div>
</body>
<script>
  function Show() {
    var Height = $(window).height();
    $('p').not('.none').each(function(ind) {
      var Top = $(this).offset().top; //元素距离顶部距离
      var scroll = $(document).scrollTop(); //滚动高度
      console.log(Top + '  ' + scroll);
      if(Top - Height - scroll <= 0) {
        setTimeout(function() {
          $('p').not('.none').eq(ind).addClass('show').css('background', 'red').animate({
            opacity: 1
          }, 500);
        }, 200);
      }
    });
  }
  $(function() {
    var Height = $(window).height(); //窗口高度
    console.log('可视高度：' + Height);
    $('.main').find('*').each(function() {
      var Top = $(this).offset().top;
      if(Top - Height <= 0) {
        $(this).addClass('none').css({
          'background': '#09f',
          'opacity': 1
        });
      }
    });
    $(window).scroll(function() {
      Show();
    })
  })
</script>

</html>